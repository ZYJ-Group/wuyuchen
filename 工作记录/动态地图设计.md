## 周报

动态地图模块设计：为了适配空地协同场景下无人机（UAV）数据的实时接入需求，将原有的静态图像处理流程升级为**分层式动态栅格地图**架构。新模块支持静态环境与动态障碍物的实时融合，并引入了基于YOLO语义信息的代价膨胀机制。

参考ros中地图的分层：Static Map Layer，Obstacle Map Layer

静态地图层：事先建好的地图，用于存储长期不变的障碍物信息。<img src="C:\Users\admin\Desktop\selfexp.code-workspace\track_image8.png" alt="track_image8" style="zoom: 25%;" />

动态地图层：记录无人机实时检测到的临时障碍物，随任务不断更新，并能够加权代价或标记为不可通行

<img src="F:\xwechat_files\wxid_tr41g1c5qkgm22_8964\temp\RWTemp\2025-11\4f417429704cc4d60bae66d5b75d8bfc\22dee951bf1a7a3fe32a95ab2f5212e2.png" alt="22dee951bf1a7a3fe32a95ab2f5212e2" style="zoom:25%;" />

- **安全膨胀 ：** 你需要在检测到的障碍物周围增加一个安全距离。

  - **算法：** 可以使用简单的圆盘膨胀，或在 `cv::Mat` 上使用 **形态学操作 (Morphological Operations)**，如膨胀，来增加障碍物的大小。在障碍物中心绘制高代价核心，在周围绘制随距离衰减的低代价缓冲区。

- **代价设计 (Cost Design)：** 如果你的导航算法能读取不同代价的地图（例如 A* 算法），可以利用 YOLO 的**语义信息**：

  - **Class:** `car` **Cost:** 254 (不可通行)

  - **Class:** `puddle`  **Cost:** 180 (高代价，减速通过)

    

1.创建 `DynamicOccupancyGridMap` 类，维护动态代价地图数据。

2.编写语义膨胀逻辑和静态层动态层融合的代码，实现信息接受接口。

3.适配规划器